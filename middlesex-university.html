<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Middlesex University - Performance Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2d3748;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .back-button {
            background: #4299e1;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }
        
        .back-button:hover {
            background: #3182ce;
            transform: translateY(-1px);
        }
        
        .header-info h1 {
            font-size: 2.5rem;
            color: #2d3748;
            margin-bottom: 8px;
        }
        
        .header-info p {
            color: #718096;
            font-size: 1.1rem;
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .time-range-selector {
            display: flex;
            background: #f7fafc;
            border-radius: 8px;
            padding: 4px;
        }
        
        .time-range-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .time-range-btn.active {
            background: #4299e1;
            color: white;
        }
        
        .device-selector {
            display: flex;
            gap: 10px;
        }
        
        .device-btn {
            padding: 8px 16px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .device-btn.active {
            border-color: #4299e1;
            background: #e6fffa;
            color: #2d3748;
        }
        
        .chart-container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        .chart-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .chart-subtitle {
            color: #718096;
        }
        
        .data-table {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        
        .table-header {
            background: #f8fafc;
            padding: 20px 30px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .table-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .table-subtitle {
            color: #718096;
            font-size: 14px;
        }
        
        .table-container {
            overflow-x: auto;
            max-height: 600px;
            overflow-y: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            text-align: left;
            padding: 12px 20px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        th {
            background: #f8fafc;
            font-weight: 600;
            color: #4a5568;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        
        .score-cell {
            font-weight: 600;
            border-radius: 4px;
            padding: 4px 8px;
            text-align: center;
            display: inline-block;
            min-width: 40px;
        }
        
        .score-good { background: #c6f6d5; color: #22543d; }
        .score-average { background: #fefcbf; color: #744210; }
        .score-poor { background: #fed7d7; color: #c53030; }
        
        .device-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .mobile { background: #bee3f8; color: #2b6cb0; }
        .desktop { background: #e9d8fd; color: #6b46c1; }
        
        @media (max-width: 768px) {
            .header { flex-direction: column; gap: 20px; text-align: center; }
            .controls { flex-direction: column; align-items: stretch; }
            .chart-container { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-info">
                <h1>Middlesex University</h1>
                <p>https://www.mdx.ac.uk</p>
            </div>
            <a href="index.html" class="back-button">
                ‚Üê Back to Dashboard
            </a>
        </div>
        
        <div class="controls">
            <div class="time-range-selector">
                <button class="time-range-btn active" data-range="week">Last Week</button>
                <button class="time-range-btn" data-range="month">Last Month</button>
                <button class="time-range-btn" data-range="year">Last Year</button>
                <button class="time-range-btn" data-range="all">All Time</button>
            </div>
            
            <div class="device-selector">
                <button class="device-btn active" data-device="both">Both Devices</button>
                <button class="device-btn" data-device="mobile">Mobile Only</button>
                <button class="device-btn" data-device="desktop">Desktop Only</button>
            </div>
        </div>
        
        <div class="chart-container">
            <div class="chart-header">
                <h2 class="chart-title">Performance Trends</h2>
                <p class="chart-subtitle">Lighthouse scores over time</p>
            </div>
            <canvas id="performanceChart" width="400" height="200"></canvas>
        </div>
        
        <div class="data-table">
            <div class="table-header">
                <h2 class="table-title">Historical Test Results</h2>
                <p class="table-subtitle">All Lighthouse test results for this university</p>
            </div>
            <div class="table-container">
                <table id="resultsTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Device</th>
                            <th>Performance</th>
                            <th>FCP</th>
                            <th>LCP</th>
                            <th>CLS</th>
                            <th>Speed Index</th>
                            <th>Accessibility</th>
                            <th>Best Practice</th>
                            <th>SEO</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
    
    <script>
        const universityData = {
  "name": "Middlesex University",
  "slug": "middlesex-university",
  "url": "https://www.mdx.ac.uk",
  "total_tests": 68,
  "last_updated": "2025-10-05T06:53:18.588411",
  "week_averages": {
    "mobile": {
      "performance": 31.666666666666668,
      "accessibility": 100,
      "best_practices": 95.0,
      "seo": 97.33333333333333
    },
    "desktop": {
      "performance": 35.5,
      "accessibility": 100,
      "best_practices": 94.5,
      "seo": 96.0
    },
    "total_tests": 5
  },
  "month_averages": {
    "mobile": {
      "performance": 31.11111111111111,
      "accessibility": 100,
      "best_practices": 95.66666666666667,
      "seo": 99.11111111111111
    },
    "desktop": {
      "performance": 32.75,
      "accessibility": 100,
      "best_practices": 95.25,
      "seo": 98.0
    },
    "total_tests": 17
  },
  "trend": "stable",
  "results": [
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-21T23:13:21.758000",
      "scores": {
        "performance": 38.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4624.303,
        "largest_contentful_paint": 4624.303,
        "cumulative_layout_shift": 0.008964026458879665,
        "total_blocking_time": 13960.927999999994,
        "speed_index": 7178,
        "interactive": 22050.335
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-22T19:39:58.164001",
      "scores": {
        "performance": 42.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3608.082,
        "largest_contentful_paint": 4175.916,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 12192.368000000004,
        "speed_index": 7553,
        "interactive": 29378.582
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-22T19:40:28.865246",
      "scores": {
        "performance": 41.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3304.9,
        "largest_contentful_paint": 4447.837,
        "cumulative_layout_shift": 0.008964026458879665,
        "total_blocking_time": 13515.239,
        "speed_index": 7390,
        "interactive": 38279.124000000236
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-23T06:57:24.210088",
      "scores": {
        "performance": 38.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3866.383,
        "largest_contentful_paint": 4662.406,
        "cumulative_layout_shift": 0.008964026458879665,
        "total_blocking_time": 14457.432000000003,
        "speed_index": 7819,
        "interactive": 28024.411
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-23T06:57:45.914186",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4301.015,
        "largest_contentful_paint": 7457.001,
        "cumulative_layout_shift": 0.008964026458879665,
        "total_blocking_time": 14785.167000000007,
        "speed_index": 10137,
        "interactive": 23155.113
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-24T06:57:51.967456",
      "scores": {
        "performance": 39.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3660.945,
        "largest_contentful_paint": 4574.468,
        "cumulative_layout_shift": 0.008964026458879665,
        "total_blocking_time": 13944.55699999998,
        "speed_index": 7636,
        "interactive": 29308.761
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-25T06:57:00.481034",
      "scores": {
        "performance": 34.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4515.011,
        "largest_contentful_paint": 5271,
        "cumulative_layout_shift": 0.008964026458879665,
        "total_blocking_time": 13638.867999999997,
        "speed_index": 8306,
        "interactive": 23998.085
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-25T06:57:01.622981",
      "scores": {
        "performance": 38.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3812.964,
        "largest_contentful_paint": 4884.736,
        "cumulative_layout_shift": 0.008964026458879665,
        "total_blocking_time": 13527.465000000007,
        "speed_index": 7310,
        "interactive": 22547.771
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-26T06:56:40.792684",
      "scores": {
        "performance": 31.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3370.378,
        "largest_contentful_paint": 13194.695,
        "cumulative_layout_shift": 0.007832363256031647,
        "total_blocking_time": 10899.248999999998,
        "speed_index": 8407,
        "interactive": 18883.15400000024
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-26T06:56:42.841004",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3801.803,
        "largest_contentful_paint": 13427.513,
        "cumulative_layout_shift": 0.007832363256031647,
        "total_blocking_time": 10645.756000000008,
        "speed_index": 8460,
        "interactive": 18869.847
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-27T06:56:54.965868",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3443.789,
        "largest_contentful_paint": 14761.396,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 14841.64900000001,
        "speed_index": 8796,
        "interactive": 26260.19100000024
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-27T06:56:58.304634",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3827.455,
        "largest_contentful_paint": 15416.93,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 16009.462,
        "speed_index": 8942,
        "interactive": 23799.505
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-28T06:56:28.439394",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4122.983,
        "largest_contentful_paint": 17230.566,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 17651.303999999993,
        "speed_index": 10081,
        "interactive": 27054.526
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-28T06:56:35.709785",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3494.178,
        "largest_contentful_paint": 17751.14,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 20083.78600000002,
        "speed_index": 10400,
        "interactive": 39977.758
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-29T06:57:47.439310",
      "scores": {
        "performance": 27.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4902.548,
        "largest_contentful_paint": 16812.245,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 17734.503,
        "speed_index": 10761,
        "interactive": 36964.21800000024
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-29T06:57:55.458609",
      "scores": {
        "performance": 27.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4879.392,
        "largest_contentful_paint": 13695.865,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 15405.872000000005,
        "speed_index": 9868,
        "interactive": 26088.009
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-06-30T06:59:43.559350",
      "scores": {
        "performance": 27.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4562.102,
        "largest_contentful_paint": 17198.818,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 17466.531000000003,
        "speed_index": 10138,
        "interactive": 29358.436
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-06-30T06:59:58.668701",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4140.405,
        "largest_contentful_paint": 15533.703,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 15354.044999999984,
        "speed_index": 9870,
        "interactive": 27999.187
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-01T06:59:00.345608",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4138.609,
        "largest_contentful_paint": 14879.173,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 13414.317000000003,
        "speed_index": 9001,
        "interactive": 21493.56
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-01T06:59:01.874321",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3920.47,
        "largest_contentful_paint": 11684.511,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 12601.363000000003,
        "speed_index": 7946,
        "interactive": 23620.824
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-03T06:59:00.901489",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3890.938,
        "largest_contentful_paint": 11892.424,
        "cumulative_layout_shift": 0.000581929560066513,
        "total_blocking_time": 13907.945,
        "speed_index": 8194,
        "interactive": 21741.126
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-03T06:59:15.461689",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3698.125,
        "largest_contentful_paint": 15349.406,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 15121.592000000011,
        "speed_index": 9093,
        "interactive": 24871.96
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-05T06:56:13.128235",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4296.15,
        "largest_contentful_paint": 14997.016,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 14761.403,
        "speed_index": 9021,
        "interactive": 33962.874
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-05T06:56:13.364464",
      "scores": {
        "performance": 32.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3103.937,
        "largest_contentful_paint": 14408.199,
        "cumulative_layout_shift": 0.008109918935653118,
        "total_blocking_time": 14007.721999999998,
        "speed_index": 7818,
        "interactive": 21543.54600000024
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-06T06:58:00.521894",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3859.624,
        "largest_contentful_paint": 14346.383,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 15773.12800000001,
        "speed_index": 9323,
        "interactive": 26098.131
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-06T06:58:14.173469",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3316.417,
        "largest_contentful_paint": 17383.486,
        "cumulative_layout_shift": 0.008109918935653118,
        "total_blocking_time": 16636.13199999975,
        "speed_index": 10193,
        "interactive": 39837.42699999976
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-07T07:01:44.567601",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4380.915,
        "largest_contentful_paint": 17077.694,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 17480.981,
        "speed_index": 9775,
        "interactive": 35372.353000000236
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-08T06:59:32.670646",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3616.222,
        "largest_contentful_paint": 15058.923,
        "cumulative_layout_shift": 0.008109918935653118,
        "total_blocking_time": 15383.154000000008,
        "speed_index": 8280,
        "interactive": 27771.195
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-08T06:59:40.643676",
      "scores": {
        "performance": 31.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3296.822,
        "largest_contentful_paint": 13845.854,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 14505.976999999517,
        "speed_index": 7898,
        "interactive": 22362.117999999522
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-09T06:59:12.067972",
      "scores": {
        "performance": 32.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3339.507,
        "largest_contentful_paint": 12167.503,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 16464.51000000001,
        "speed_index": 7438,
        "interactive": 31288.45500000024
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-10T07:00:08.568657",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3606.664,
        "largest_contentful_paint": 16799.339,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 18088.192,
        "speed_index": 9447,
        "interactive": 34657.82
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-13T06:57:39.991388",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3891.501,
        "largest_contentful_paint": 13878.167,
        "cumulative_layout_shift": 0.008109918935653118,
        "total_blocking_time": 15583.320000000007,
        "speed_index": 8583,
        "interactive": 23861.08
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-13T06:57:50.568265",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3644.094,
        "largest_contentful_paint": 15529.106,
        "cumulative_layout_shift": 0.009200361713658334,
        "total_blocking_time": 15544.205000000013,
        "speed_index": 8416,
        "interactive": 26973.189
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-14T07:01:52.034913",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4625.784,
        "largest_contentful_paint": 12516.746,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 12521.535999999753,
        "speed_index": 7584,
        "interactive": 24608.206999999762
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-14T07:01:55.023011",
      "scores": {
        "performance": 27.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 5541.379,
        "largest_contentful_paint": 14654.212,
        "cumulative_layout_shift": 0.008521370096607481,
        "total_blocking_time": 12446.176999999992,
        "speed_index": 8755,
        "interactive": 21285.824
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-21T07:02:12.931292",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 95.0,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4512.871,
        "largest_contentful_paint": 6405.68,
        "cumulative_layout_shift": 0.056677318473260054,
        "total_blocking_time": 17416.239000000005,
        "speed_index": 10263,
        "interactive": 26195.931
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-24T07:02:33.838921",
      "scores": {
        "performance": 34.0,
        "accessibility": 95.0,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3720.309,
        "largest_contentful_paint": 5333.481,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 18811.064999999995,
        "speed_index": 9608,
        "interactive": 30533.688
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-27T06:59:13.504134",
      "scores": {
        "performance": 33.0,
        "accessibility": 95.0,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3922.054,
        "largest_contentful_paint": 5477.12,
        "cumulative_layout_shift": 0.056677318473260054,
        "total_blocking_time": 19957.307999999997,
        "speed_index": 8881,
        "interactive": 39099.274
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-27T06:59:13.850209",
      "scores": {
        "performance": 30.0,
        "accessibility": 95.0,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4670.824,
        "largest_contentful_paint": 6014.507,
        "cumulative_layout_shift": 0.019310406958374347,
        "total_blocking_time": 19211.371,
        "speed_index": 9974,
        "interactive": 31846.446
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-28T07:03:29.280384",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 95.0,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4044.443,
        "largest_contentful_paint": 7683.429,
        "cumulative_layout_shift": 0.009670002627897899,
        "total_blocking_time": 17809.091999999997,
        "speed_index": 9175,
        "interactive": 30322.792
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-07-30T07:03:17.804645",
      "scores": {
        "performance": 34.0,
        "accessibility": 95.0,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3955.634,
        "largest_contentful_paint": 5248.615,
        "cumulative_layout_shift": 0.062146051574985,
        "total_blocking_time": 18677.148,
        "speed_index": 9016,
        "interactive": 29053.052
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-07-31T07:02:03.851740",
      "scores": {
        "performance": 32.0,
        "accessibility": 95.0,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4088.936,
        "largest_contentful_paint": 5474.376,
        "cumulative_layout_shift": 0.056677318473260054,
        "total_blocking_time": 17094.732000000007,
        "speed_index": 9578,
        "interactive": 29269.981
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-08-16T06:56:28.804067",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 95.0,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3629.847,
        "largest_contentful_paint": 15186.564,
        "cumulative_layout_shift": 0.007398377254233924,
        "total_blocking_time": 12301.396000000004,
        "speed_index": 9601,
        "interactive": 23704.977
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-08-16T06:56:32.246154",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 95.0,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4083.01,
        "largest_contentful_paint": 14180.658,
        "cumulative_layout_shift": 0.018246582043127225,
        "total_blocking_time": 11233.544999999996,
        "speed_index": 8729,
        "interactive": 18483.221
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-08-19T06:59:30.145710",
      "scores": {
        "performance": 27.0,
        "accessibility": 95.0,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4627.101,
        "largest_contentful_paint": 14996.79,
        "cumulative_layout_shift": 0.009419024609041508,
        "total_blocking_time": 15578.676,
        "speed_index": 10724,
        "interactive": 31010.236
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-08-22T06:57:43.414331",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4326.154,
        "largest_contentful_paint": 15182.636,
        "cumulative_layout_shift": 0.007398377254233924,
        "total_blocking_time": 16093.01599999999,
        "speed_index": 10002,
        "interactive": 24595.761
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-08-24T06:55:48.257648",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3853.622,
        "largest_contentful_paint": 20113.502,
        "cumulative_layout_shift": 0.007398377254233924,
        "total_blocking_time": 18307.269999999997,
        "speed_index": 11584,
        "interactive": 28356.571
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-09-01T07:00:06.448984",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4010.33,
        "largest_contentful_paint": 18085.5,
        "cumulative_layout_shift": 0.007398377254233924,
        "total_blocking_time": 20893.344000000016,
        "speed_index": 10792,
        "interactive": 31295.014
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-03T06:55:46.461785",
      "scores": {
        "performance": 27.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 5258.61,
        "largest_contentful_paint": 17886.368,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 21107.714999999975,
        "speed_index": 10250,
        "interactive": 39766.853
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-05T06:57:48.512590",
      "scores": {
        "performance": 27.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4818.582,
        "largest_contentful_paint": 16587.465,
        "cumulative_layout_shift": 0.008827557434085717,
        "total_blocking_time": 19689.725,
        "speed_index": 11917,
        "interactive": 30868.015
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-07T06:53:36.149707",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3563.752,
        "largest_contentful_paint": 16708.923,
        "cumulative_layout_shift": 0.007398377254233924,
        "total_blocking_time": 19762.39099999999,
        "speed_index": 10056,
        "interactive": 30180.892
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-09-11T06:56:41.720162",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4190.656,
        "largest_contentful_paint": 17658.359,
        "cumulative_layout_shift": 0.008827557434085717,
        "total_blocking_time": 18205.024,
        "speed_index": 9741,
        "interactive": 26542.844
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-09-12T06:57:17.016315",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3952.298,
        "largest_contentful_paint": 18332.315,
        "cumulative_layout_shift": 0.007398377254233924,
        "total_blocking_time": 21364.89999999998,
        "speed_index": 10706,
        "interactive": 30472.958
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-09-14T06:54:39.767533",
      "scores": {
        "performance": 40.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3548.356,
        "largest_contentful_paint": 4348.926,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 19410.632,
        "speed_index": 8718,
        "interactive": 36589.321
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-14T06:54:47.503691",
      "scores": {
        "performance": 31.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3731.578,
        "largest_contentful_paint": 6168.034,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 19062.997000000003,
        "speed_index": 10765,
        "interactive": 36566.402
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-15T06:59:22.257890",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 3980.265,
        "largest_contentful_paint": 6439.482,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 21358.304999999993,
        "speed_index": 10490,
        "interactive": 32509.815
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-16T06:57:53.890871",
      "scores": {
        "performance": 31.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3593.708,
        "largest_contentful_paint": 6472.372,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 20850.68,
        "speed_index": 10181,
        "interactive": 31059.225
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-17T06:58:10.191235",
      "scores": {
        "performance": 37.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3919.874,
        "largest_contentful_paint": 4950.346,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 18016.342999999983,
        "speed_index": 7962,
        "interactive": 29426.209
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-09-18T06:56:55.291231",
      "scores": {
        "performance": 31.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 3913.938,
        "largest_contentful_paint": 6567.819,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 19361.86299999999,
        "speed_index": 8981,
        "interactive": 39180.626
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-09-23T06:58:11.705226",
      "scores": {
        "performance": 30.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4912.08,
        "largest_contentful_paint": 6146.354,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 19620.54300000001,
        "speed_index": 9952,
        "interactive": 36167.338
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-25T06:58:10.171630",
      "scores": {
        "performance": 33.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4079.024,
        "largest_contentful_paint": 5450.551,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 17250.565999999995,
        "speed_index": 9135,
        "interactive": 27426.747
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-09-26T06:57:41.700984",
      "scores": {
        "performance": 28.000000000000004,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4411.03,
        "largest_contentful_paint": 8584.908,
        "cumulative_layout_shift": 0,
        "total_blocking_time": 19302.06000000001,
        "speed_index": 10291,
        "interactive": 30200.345
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-09-26T06:57:55.763058",
      "scores": {
        "performance": 28.999999999999996,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4499.489,
        "largest_contentful_paint": 6414.605,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 20426.732000000007,
        "speed_index": 10914,
        "interactive": 29952.199
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-10-02T06:56:30.163171",
      "scores": {
        "performance": 36.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4308.178,
        "largest_contentful_paint": 5082.497,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 11694.697,
        "speed_index": 7634,
        "interactive": 21000.041
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-10-02T06:56:36.015014",
      "scores": {
        "performance": 32.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4908.087,
        "largest_contentful_paint": 5632.743,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 12466.141000000005,
        "speed_index": 8506,
        "interactive": 28976.179
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-10-03T06:56:30.451859",
      "scores": {
        "performance": 32.0,
        "accessibility": 100,
        "best_practices": 96.0,
        "seo": 100
      },
      "metrics": {
        "first_contentful_paint": 4471.571,
        "largest_contentful_paint": 5703.377,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 18707.018999999756,
        "speed_index": 9450,
        "interactive": 29562.66999999976
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "mobile",
      "timestamp": "2025-10-05T06:53:14.111674",
      "scores": {
        "performance": 31.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4394.379,
        "largest_contentful_paint": 6060.95,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 17433.979,
        "speed_index": 9622,
        "interactive": 27219.012000000475
      }
    },
    {
      "name": "Middlesex University",
      "url": "https://www.mdx.ac.uk",
      "device": "desktop",
      "timestamp": "2025-10-05T06:53:18.588411",
      "scores": {
        "performance": 35.0,
        "accessibility": 100,
        "best_practices": 93.0,
        "seo": 92.0
      },
      "metrics": {
        "first_contentful_paint": 4130.903,
        "largest_contentful_paint": 5034.884,
        "cumulative_layout_shift": 0.008011871929839863,
        "total_blocking_time": 18229.648999999525,
        "speed_index": 9861,
        "interactive": 30177.714999999524
      }
    }
  ]
};
        let currentRange = 'week';
        let currentDevice = 'both';
        let chart;
        
        function getScoreClass(score) {
            if (score >= 90) return 'score-good';
            if (score >= 50) return 'score-average';
            return 'score-poor';
        }
        
        function formatMetric(value, unit = 'ms') {
            if (!value) return '-';
            if (value < 1000) return `${Math.round(value)}${unit}`;
            return `${(value / 1000).toFixed(1)}s`;
        }
        
        function filterData(data, range, device) {
            let filtered = [...data];
            
            // Time range filter
            if (range !== 'all') {
                const now = new Date();
                const cutoff = new Date();
                switch(range) {
                    case 'week': cutoff.setDate(now.getDate() - 7); break;
                    case 'month': cutoff.setDate(now.getDate() - 30); break;
                    case 'year': cutoff.setFullYear(now.getFullYear() - 1); break;
                }
                filtered = filtered.filter(result => 
                    new Date(result.timestamp) >= cutoff
                );
            }
            
            // Device filter
            if (device !== 'both') {
                filtered = filtered.filter(result => result.device === device);
            }
            
            return filtered.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
        }
        
        function createChart(data) {
            const ctx = document.getElementById('performanceChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }
            
            const mobileData = data.filter(r => r.device === 'mobile');
            const desktopData = data.filter(r => r.device === 'desktop');
            
            const datasets = [];
            
            if (currentDevice === 'both' || currentDevice === 'mobile') {
                datasets.push({
                    label: 'Mobile Performance',
                    data: mobileData.map(r => ({
                        x: r.timestamp,
                        y: r.scores.performance
                    })),
                    borderColor: '#3182ce',
                    backgroundColor: 'rgba(49, 130, 206, 0.1)',
                    tension: 0.4
                });
            }
            
            if (currentDevice === 'both' || currentDevice === 'desktop') {
                datasets.push({
                    label: 'Desktop Performance',
                    data: desktopData.map(r => ({
                        x: r.timestamp,
                        y: r.scores.performance
                    })),
                    borderColor: '#805ad5',
                    backgroundColor: 'rgba(128, 90, 213, 0.1)',
                    tension: 0.4
                });
            }
            
            chart = new Chart(ctx, {
                type: 'line',
                data: { datasets },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        x: {
                            type: 'time',
                            time: {
                                unit: 'day'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Score'
                            }
                        }
                    }
                }
            });
        }
        
        function updateTable(data) {
            const tbody = document.querySelector('#resultsTable tbody');
            tbody.innerHTML = '';
            
            data.slice().reverse().forEach(result => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${new Date(result.timestamp).toLocaleDateString('en-GB')}</td>
                    <td><span class="device-badge ${result.device}">${result.device}</span></td>
                    <td><span class="score-cell ${getScoreClass(result.scores.performance)}">${Math.round(result.scores.performance)}</span></td>
                    <td>${formatMetric(result.metrics.first_contentful_paint)}</td>
                    <td>${formatMetric(result.metrics.largest_contentful_paint)}</td>
                    <td>${result.metrics.cumulative_layout_shift.toFixed(3)}</td>
                    <td>${formatMetric(result.metrics.speed_index)}</td>
                    <td><span class="score-cell ${getScoreClass(result.scores.accessibility)}">${Math.round(result.scores.accessibility)}</span></td>
                    <td><span class="score-cell ${getScoreClass(result.scores.best_practices)}">${Math.round(result.scores.best_practices)}</span></td>
                    <td><span class="score-cell ${getScoreClass(result.scores.seo)}">${Math.round(result.scores.seo)}</span></td>
                `;
                tbody.appendChild(row);
            });
        }
        
        function updateView() {
            const filteredData = filterData(universityData.results, currentRange, currentDevice);
            createChart(filteredData);
            updateTable(filteredData);
        }
        
        // Event listeners
        document.querySelectorAll('.time-range-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.time-range-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                currentRange = e.target.dataset.range;
                updateView();
            });
        });
        
        document.querySelectorAll('.device-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.device-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                currentDevice = e.target.dataset.device;
                updateView();
            });
        });
        
        // Initial load
        updateView();
    </script>
</body>
</html>